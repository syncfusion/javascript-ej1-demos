<!doctype html>
<html>
<head>
    <title>Essential JS 1 : Page Settings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">
    <link href="../content/bootstrap.min.css" rel="stylesheet" />
    <link href="../content/ejthemes/default-theme/ej.web.all.min.css" rel="stylesheet" />
    <link href="../content/default.css" rel="stylesheet" />
    <link href="../content/default-responsive.css" rel="stylesheet" />
    <!--[if lt IE 9]>
         <script src="../scripts/jquery-1.11.3.min.js" type="text/javascript"></script>
     <!--<![endif]-->
    <!--[if gte IE 9]><!-->
    <script src="../scripts/jquery-3.4.1.min.js" type="text/javascript"></script>
    <!--<![endif]-->
    <script src="../scripts/jsrender.min.js"></script>
    <script src="../scripts/ej.web.all.min.js"></script>
    <script src="../scripts/properties.js" type="text/javascript"></script>
    <script src="../scripts/diagramscripts/diagramcommon.js"></script>
</head>
<body>
    <div class="content-container-fluid">
        <div class="row">
            <div class="cols-sample-area">
                <div id="diagram"></div>
            </div>
            <div id="sampleProperties">
                <div class="prop-grid">
                    <div class="row">
                        <div class="col-md-3">
                            <b>Page Settings</b>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Height
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="height" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Width
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="width" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Border Width
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="borderwidth" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Background Color
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="background" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Border Color
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="backgroundborder" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Margin
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="margin" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Orientation
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="orientation" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Boundary Constraints
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="boundaryconstraints" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Page break
                        </div>
                        <div class="col-md-3">
                            <input type="checkbox" id="pagebreak" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Multiple Page
                        </div>
                        <div class="col-md-3">
                            <input type="checkbox" id="multiplepage" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <b>Snap Settings</b>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Snap Constraints
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="snapconstraints" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Snap Angle
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="snapingangle" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Snap Distance
                        </div>
                        <div class="col-md-3">
                            <input type="text" id="snapingdistance" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            Snap
                        </div>
                        <div class="col-md-3">
                            <input type="checkbox" id="snaping" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        var nodes = [
             { name: "node1", height: 60, width: 60, offsetX: 170, offsetY: 105, borderWidth: 1, borderColor: "#99SF13", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#FBB040", opacity: 1 }] } },
             { name: "node2", height: 90, width: 60, offsetX: 240, offsetY: 105, borderWidth: 1, borderColor: "#8BB23F", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#A0D05F", opacity: 1 }] } },
             { name: "node3", height: 120, width: 60, offsetX: 310, offsetY: 105, borderWidth: 1, borderColor: "#27A9CC", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#7FDEFF", opacity: 1 }] } },
             { name: "node4", height: 90, width: 60, offsetX: 160, offsetY: 255, borderWidth: 1, borderColor: "#99SF13", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#FBB040", opacity: 1 }] } },
             { name: "node5", height: 90, width: 90, offsetX: 240, offsetY: 255, borderWidth: 1, borderColor: "#8BB23F", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#A0D05F", opacity: 1 }] } },
             { name: "node6", height: 90, width: 60, offsetX: 320, offsetY: 255, borderWidth: 1, borderColor: "#27A9CC", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#7FDEFF", opacity: 1 }] } },
             { name: "node7", height: 60, width: 90, offsetX: 165, offsetY: 400, borderWidth: 1, borderColor: "#99SF13", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#FBB040", opacity: 1 }] } },
             { name: "node8", height: 60, width: 90, offsetX: 240, offsetY: 400, borderWidth: 1, borderColor: "#8BB23F", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#A0D05F", opacity: 1 }] } },
             { name: "node9", height: 60, width: 90, offsetX: 315, offsetY: 400, borderWidth: 1, borderColor: "#27A9CC", shape: "ellipse", gradient: { type: "radial", cx: 50, cy: 50, fx: 50, fy: 50, stops: [{ offset: 0, color: "white", opacity: 0 }, { offset: 100, color: "#7FDEFF", opacity: 1 }] } },


             { name: "node10", height: 40, width: 90, offsetX: 240, offsetY: 170, fillColor: "transparent", borderWidth: 1, borderColor: "transparent", labels: [{ name: "label1", text: "Same Width" }], constraints: ej.datavisualization.Diagram.NodeConstraints.Default & ~ej.datavisualization.Diagram.NodeConstraints.Select },
             { name: "node11", height: 40, width: 90, offsetX: 240, offsetY: 320, fillColor: "transparent", borderWidth: 1, borderColor: "transparent", labels: [{ name: "label1", text: "Same Height" }], constraints: ej.datavisualization.Diagram.NodeConstraints.Default & ~ej.datavisualization.Diagram.NodeConstraints.Select },
             { name: "node12", height: 40, width: 90, offsetX: 240, offsetY: 450, fillColor: "transparent", borderWidth: 1, borderColor: "transparent", labels: [{ name: "label1", text: "Same Size" }], constraints: ej.datavisualization.Diagram.NodeConstraints.Default & ~ej.datavisualization.Diagram.NodeConstraints.Select },
        ];

        $(function () {

            $("#diagram").ejDiagram({
                height: "500px", width: "100%", nodes: nodes,
                pageSettings: {
                    pageWidth: 500, pageHeight: 500, pageBackgroundColor: "White", pageBorderWidth: 1,
                    pageBorderColor: "Black", pageOrientation: "landscape", boundaryConstraints: "diagram",
                    showPageBreak: true
                },
            });

            $("#height").ejNumericTextbox({
                value: 500,
                width: "130px",
                cssClass: "pageHeight",
                "change": propertyChange
            });

            $("#width").ejNumericTextbox({
               value: 500,
               width: "130px",
               cssClass: "pageWidth",
               "change": propertyChange
           });

            $("#multiplepage").ejCheckBox({
                cssClass: "multiplePage",
                change: propertyChange
            });

            $("#borderwidth").ejNumericTextbox({
               value: 1,
               width: "130px",
               cssClass: "pageBorderWidth",
               "change": propertyChange
            });

            var color = [{ text: "White", value: "White" }, { text: "Black", value: "Black" }, { text: "Goldenrod", value: "Goldenrod" }, { text: "Indigo", value: "Indigo" }, { text: "Chocolate", value: "Chocolate" }, { text: "DarkGoldenRod", value: "DarkGoldenRod" }, { text: "FireBrick", value: "FireBrick" }, { text: "DarkRed", value: "DarkRed" }, { text: "Khaki", value: "Khaki" }, { text: "LightCoral", value: "LightCoral" }, { text: "Moccasin", value: "Moccasin" }, { text: "Teal", value: "Teal" }];

            $("#background").ejDropDownList({
                text: "White",
                dataSource: color,
                fields: { value: "value", text: "text" },
                width: "130px",
                cssClass: "pageBackgroundColor",
                "change": propertyChange
            });

            $("#backgroundborder").ejDropDownList({
                text: "Black",
                dataSource: color,
                fields: { value: "value", text: "text" },
                width: "130px",
                cssClass: "pageBorderColor",
                "change": propertyChange
            });

            $("#margin").ejNumericTextbox({
                value: 20,
                width: "130px",
                cssClass: "pageMargin",
                "change": propertyChange
            });

            $("#pagebreak").ejCheckBox({
                checked: true,
                cssClass: "showPageBreak",
                change: propertyChange
            });

            var pageOrientation = [{ text: "Portrait", value: "portrait" }, { text: "Landscape", value: "landscape" }];            
            $("#orientation").ejDropDownList({
                text: "Landscape",
                dataSource: pageOrientation,
                fields: { value: "value", text: "text" },
                width: "130px",
                cssClass: "pageOrientation",
                "change": propertyChange
            });

            var boundaryConstraints = [{ text: "Diagram", value: "diagram" }, { text: "Infinity", value: "infinity" }, { text: "Page", value: "page" }];
            $("#boundaryconstraints").ejDropDownList({
                text: "Diagram",
                dataSource: boundaryConstraints,
                fields: { value: "value", text: "text" },
                width: "130px",
                cssClass: "boundaryConstraints",
                "change": propertyChange
            });

            $("#snaping").ejCheckBox({
                checked: true,
                cssClass: "enableSnapToObject",
                change: propertyChange
            });

            $("#snapingangle").ejNumericTextbox({
                value: 1,
                width: "130px",
                cssClass: "snapAngle",
                "change": propertyChange
            });

            $("#snapingdistance").ejNumericTextbox({
                value: 10,
                width: "130px",
                cssClass: "snapObjectDistance",
                "change": propertyChange
            });

            var snapConstraints = [{ text: "None", value: "None" }, { text: "SnapToHorizontalLines", value: "SnapToHorizontalLines" }, { text: "SnapToVerticalLines", value: "SnapToVerticalLines" }, { text: "SnapToLines", value: "SnapToLines" }, { text: "ShowHorizontalLines", value: "ShowHorizontalLines" }, { text: "ShowVerticalLines", value: "ShowVerticalLines" }, { text: "ShowLines", value: "ShowLines" }, { text: "All", value: "All" }];
            $("#snapconstraints").ejDropDownList({
                text: "ShowLines",
                dataSource: snapConstraints,
                fields: { value: "value", text: "text" },
                width: "130px",
                cssClass: "snapConstraints",
                "change": propertyChange
            });

            function propertyChange(args) {
                var option = {};
                var isPageSettings = true;
                switch (args.model.cssClass) {
                    case "pageHeight":
                        option.pageHeight = args.value;
                        break;
                    case "pageWidth":
                        option.pageWidth = args.value;
                        break;
                    case "multiplePage":
                        option.multiplePage = args.isChecked;
                        break;
                    case "pageBorderWidth":
                        option.pageBorderWidth = args.value;
                        break;
                    case "pageBackgroundColor":
                        option.pageBackgroundColor = args.value;
                        break;
                    case "pageBorderColor":
                        option.pageBorderColor = args.value;
                        break;
                    case "pageMargin":
                        option.pageMargin = args.value;
                        break;
                    case "showPageBreak":
                        option.showPageBreak = args.isChecked;
                        break;
                    case "pageOrientation":
                        option.pageOrientation = args.value;
                        break;
                    case "boundaryConstraints":
                        option.boundaryConstraints = args.value;
                        break;
                    case "enableSnapToObject":
                        isPageSettings = false;
                        option.enableSnapToObject = args.isChecked;
                        break;
                    case "snapAngle":
                        isPageSettings = false;
                        option.snapAngle = args.value;
                        break;
                    case "snapObjectDistance":
                        isPageSettings = false;
                        option.snapObjectDistance = args.value;
                        break;
                    case "snapConstraints":
                        isPageSettings = false;
                        var snap = ej.datavisualization.Diagram.SnapConstraints[args.value];
                        option.snapConstraints = snap;
                        break;
                }
                if (option) {
                    if (isPageSettings) $("#diagram").ejDiagram({ pageSettings: option });
                    else $("#diagram").ejDiagram({ snapSettings: option });
                }
            }
            $("#sampleProperties").ejPropertiesPanel();

            var diagram = $("#diagram").ejDiagram("instance");
            diagram.fitToPage();
            
        });

    </script>
    <style>
        .row .cols-sample-area {
            width: 67%;
        }

        .row .cols-prop-area {
            width: 31%;
        }
    </style>
</body>
</html>
